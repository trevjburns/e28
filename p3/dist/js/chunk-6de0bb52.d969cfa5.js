(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6de0bb52"],{"8fdc":function(t,e,n){"use strict";n.r(e);n("b0c0");var a=n("7a23"),r={id:"account-page"},o={key:0},i={"data-test":"welcome-message"},c={key:1},s={key:0,id:"loginForm"},u=Object(a["g"])("h2",null,"Login",-1),l=Object(a["f"])("Don't have a login? "),b=Object(a["f"])(" Email: "),d=Object(a["f"])(" Password: "),g={key:0},j={key:1,id:"registerForm"},O=Object(a["g"])("h2",null,"Register",-1),p=Object(a["f"])("Already registered? "),m=Object(a["f"])(" Name: "),f=Object(a["f"])(" Email: "),h=Object(a["f"])(" Password: "),w={key:0};function y(t,e,n,y,v,k){return Object(a["p"])(),Object(a["d"])("div",r,[k.user?(Object(a["p"])(),Object(a["d"])("div",o,[Object(a["g"])("h2",i,"Hi, "+Object(a["y"])(k.user.name)+"!",1),Object(a["g"])("button",{onClick:e[1]||(e[1]=function(){return k.logout&&k.logout.apply(k,arguments)}),"data-test":"logout-button"},"Logout")])):(Object(a["p"])(),Object(a["d"])("div",c,[v.showLoginForm?(Object(a["p"])(),Object(a["d"])("div",s,[u,Object(a["g"])("small",null,[l,Object(a["g"])("button",{onClick:e[2]||(e[2]=function(t){return v.showLoginForm=!1})},"Register")]),Object(a["g"])("div",null,[Object(a["g"])("label",null,[b,Object(a["D"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=function(t){return v.data.email=t}),"data-test":"email-input"},null,512),[[a["A"],v.data.email]])])]),Object(a["g"])("div",null,[Object(a["g"])("label",null,[d,Object(a["D"])(Object(a["g"])("input",{type:"password","onUpdate:modelValue":e[4]||(e[4]=function(t){return v.data.password=t}),"data-test":"password-input"},null,512),[[a["A"],v.data.password]])])]),Object(a["g"])("button",{onClick:e[5]||(e[5]=function(){return k.login&&k.login.apply(k,arguments)}),"data-test":"login-button"},"Login"),v.errors?(Object(a["p"])(),Object(a["d"])("ul",g,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(v.errors,(function(t,e){return Object(a["p"])(),Object(a["d"])("li",{class:"error",key:e},Object(a["y"])(t),1)})),128))])):Object(a["e"])("",!0)])):(Object(a["p"])(),Object(a["d"])("div",j,[O,Object(a["g"])("small",null,[p,Object(a["g"])("button",{onClick:e[6]||(e[6]=function(t){return v.showLoginForm=!0})},"Login")]),Object(a["g"])("div",null,[Object(a["g"])("label",null,[m,Object(a["D"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=function(t){return v.registrationData.name=t})},null,512),[[a["A"],v.registrationData.name]])])]),Object(a["g"])("div",null,[Object(a["g"])("label",null,[f,Object(a["D"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=function(t){return v.registrationData.email=t})},null,512),[[a["A"],v.registrationData.email]])])]),Object(a["g"])("div",null,[Object(a["g"])("label",null,[h,Object(a["D"])(Object(a["g"])("input",{type:"password","onUpdate:modelValue":e[9]||(e[9]=function(t){return v.registrationData.password=t})},null,512),[[a["A"],v.registrationData.password]])])]),Object(a["g"])("button",{onClick:e[10]||(e[10]=function(){return k.register&&k.register.apply(k,arguments)})},"Register"),v.errors?(Object(a["p"])(),Object(a["d"])("ul",w,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(v.errors,(function(t,e){return Object(a["p"])(),Object(a["d"])("li",{class:"error",key:e},Object(a["y"])(t),1)})),128))])):Object(a["e"])("",!0)]))]))])}var v=n("0091"),k={data:function(){return{data:{email:"",password:""},registrationData:{name:"",email:"",password:""},errors:null,favorites:[],showLoginForm:!0}},computed:{user:function(){return this.$store.state.user}},methods:{login:function(){var t=this;v["a"].post("login",this.data).then((function(e){e.data.authenticated?t.$store.commit("setUser",e.data.user):t.errors=e.data.errors}))},logout:function(){var t=this;v["a"].post("logout").then((function(e){e.data.success&&t.$store.commit("setUser",!1)}))},register:function(){var t=this;v["a"].post("register",this.registrationData).then((function(e){e.data.success?(t.data.email=t.registrationData.email,t.data.password=t.registrationData.password,v["a"].post("login",t.data).then((function(e){e.data.authenticated?t.$store.commit("setUser",e.data.user):t.errors=e.data.errors}))):t.errors=e.data.errors}))}},watch:{user:function(){}},mounted:function(){}};k.render=y;e["default"]=k},b0c0:function(t,e,n){var a=n("83ab"),r=n("9bf2").f,o=Function.prototype,i=o.toString,c=/^\s*function ([^ (]*)/,s="name";a&&!(s in o)&&r(o,s,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-6de0bb52.d969cfa5.js.map