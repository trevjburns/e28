{"version":3,"sources":["webpack:///./src/components/pages/AccountPage.vue","webpack:///./src/components/pages/AccountPage.vue?b3b5","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["id","data-test","user","name","logout","showLoginForm","type","data","email","password","login","errors","error","index","class","key","registrationData","register","favorites","computed","this","$store","state","methods","post","then","response","authenticated","commit","success","watch","mounted","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match"],"mappings":"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","file":"js/chunk-6de0bb52.d969cfa5.js","sourcesContent":["<template>\r\n    <div id=\"account-page\">\r\n        <div v-if=\"user\">\r\n            <h2 data-test=\"welcome-message\">Hi, {{ user.name }}!</h2>\r\n\r\n            <!-- <div id=\"favorites\">\r\n                <strong>Your Favorites</strong>\r\n                <p v-if=\"favorites && favorites.length == 0\">\r\n                    No favorites yet.\r\n                </p>\r\n                <li v-for=\"(favorite, key) in favorites\" v-bind:key=\"key\">\r\n                    {{ favorite.name }}\r\n                </li>\r\n            </div> -->\r\n\r\n            <button v-on:click=\"logout\" data-test=\"logout-button\">Logout</button>\r\n        </div>\r\n        <div v-else>\r\n            <div v-if=\"showLoginForm\" id=\"loginForm\">\r\n                \r\n                <h2>Login</h2>\r\n                <small>Don't have a login? <button @click=\"showLoginForm=false\">Register</button></small>\r\n                <div>\r\n                    <label>\r\n                        Email:\r\n                        <input type=\"text\" v-model=\"data.email\" data-test=\"email-input\" />\r\n                    </label>\r\n                </div>\r\n                <div>\r\n                    <label>\r\n                        Password:\r\n                        <input type=\"password\" v-model=\"data.password\" data-test=\"password-input\" />\r\n                    </label>\r\n                </div>\r\n\r\n                <button v-on:click=\"login\" data-test=\"login-button\">Login</button>\r\n\r\n                <ul v-if=\"errors\">\r\n                    <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\r\n                        {{ error }}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div v-else id=\"registerForm\">\r\n                <h2>Register</h2>\r\n                <small>Already registered? <button @click=\"showLoginForm=true\">Login</button></small>\r\n                <div>\r\n                    <label>\r\n                        Name:\r\n                        <input type=\"text\" v-model=\"registrationData.name\" />\r\n                    </label>\r\n                </div>\r\n                <div>\r\n                    <label>\r\n                        Email:\r\n                        <input type=\"text\" v-model=\"registrationData.email\" />\r\n                    </label>\r\n                </div>\r\n                <div>\r\n                    <label>\r\n                        Password:\r\n                        <input type=\"password\" v-model=\"registrationData.password\" />\r\n                    </label>\r\n                </div>\r\n\r\n                <button v-on:click=\"register\">Register</button>\r\n\r\n                <ul v-if=\"errors\">\r\n                    <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\r\n                        {{ error }}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { axios } from \"@/common/app.js\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            data: {\r\n                email: \"\",\r\n                password: \"\",\r\n            },\r\n            registrationData: {\r\n                name: \"\",\r\n                email: \"\",\r\n                password: \"\"\r\n            },\r\n            errors: null,\r\n            favorites: [],\r\n            showLoginForm: true\r\n        };\r\n    },\r\n    computed: {\r\n        user() {\r\n            return this.$store.state.user;\r\n        },\r\n    },\r\n    methods: {\r\n        login() {\r\n            axios.post(\"login\", this.data).then((response) => {\r\n                if (response.data.authenticated) {\r\n                    this.$store.commit(\"setUser\", response.data.user);\r\n                } else {\r\n                    this.errors = response.data.errors;\r\n                }\r\n            });\r\n        },\r\n        logout() {\r\n            axios.post(\"logout\").then((response) => {\r\n                if (response.data.success) {\r\n                    this.$store.commit(\"setUser\", false);\r\n                }\r\n            });\r\n        },\r\n        register() {\r\n            axios.post(\"register\", this.registrationData).then((response) => {\r\n\r\n                if (response.data.success) {\r\n                    this.data.email = this.registrationData.email;\r\n                    this.data.password = this.registrationData.password;\r\n\r\n                    axios.post(\"login\", this.data).then((response) => {\r\n                        if (response.data.authenticated) {\r\n                            this.$store.commit(\"setUser\", response.data.user);\r\n                        } else {\r\n                            this.errors = response.data.errors;\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.errors = response.data.errors;\r\n                }\r\n                \r\n            });\r\n        },\r\n    },\r\n    watch: {\r\n        user() {\r\n            // this.loadFavorites();\r\n        },\r\n    },\r\n    mounted() {\r\n        // this.loadFavorites();\r\n    },\r\n};\r\n</script>","import { render } from \"./AccountPage.vue?vue&type=template&id=6afd739f\"\nimport script from \"./AccountPage.vue?vue&type=script&lang=js\"\nexport * from \"./AccountPage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}